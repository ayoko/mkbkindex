# How to use utils/shiftindex

utils ディレクトリに納められている shiftindex は、
mkbkindex ツールセットのための補助ツールです。
一度、索引原稿ができあがった後にページ番号がずれてしまうことは、
実際の編集現場では時々あります。その際に、元原稿をベースに mkbkindex
の入力を書き換えるのは効率的でない場合があります。shiftindex は
このような状況で、mkbkindex の出力である索引原稿に「パッチ」を当てる
ためのツールとお考えください。

## 使い方の例

いま、mkbkindex で出力した索引原稿 index_out.txt があるとします。
編集さんからの連絡で、この索引のうち、123ページから 150ページの索引を
3ページだけマイナスして欲しい、という依頼がきました。
つまり、125ページは 122ページに、140ページは 137ページに変更して欲しい、
という訳です。

あなたは慌てず騒がず、次のようにコマンド入力します。
ここでは Linux を想定していますが、Python 2.x の動く環境であれば、
それほど苦労はないはずです。
（なお注意点ですが、mkbkindex は Shift JIS コードのファイルを扱うので、
index_out.txt も Shift JIS コードで書かれていると考えてください。）

```
bash$ utils/shiftindex 123-150 -3 index_out.txt > index_new.txt
```

これによって、index_new.txt に修正済みの索引原稿が出力されます。
実際には、出力された原稿を目視して、内容に問題がないことを確認して
ください。（編集さんがやってくれると思いますが。）

## ページを後ろにずらす場合

上記例では -3 と書きましたが、これを +4 のように書けば、
後ろにずらすことも可能です。
